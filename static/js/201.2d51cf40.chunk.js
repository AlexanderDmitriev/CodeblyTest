"use strict";(self.webpackChunkcodeblytest=self.webpackChunkcodeblytest||[]).push([[201],{7201:function(e,n,t){t.r(n),t.d(n,{default:function(){return N}});var r=t(1413),a=t(9439),i=t(4554),l=t(9218),o=t(184),s=function(e){var n=e.changeFilter;return(0,o.jsx)(i.Z,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"25ch"}},noValidate:!0,autoComplete:"off",children:(0,o.jsx)("div",{children:(0,o.jsx)(l.Z,{id:"filter",label:"Search field",type:"search",onChange:n})})})},c=t(2791),d=t(9836),u=t(3382),h=t(3994),p=t(9281),x=t(8582),g=t(799),f=t(5855),j=t(5527),Z=t(3967),m=t(3400),b=t(2715),v=t(1133),P=t(5397),C=t(111);function w(e){var n=(0,Z.Z)(),t=e.count,r=e.page,a=e.rowsPerPage,l=e.onPageChange;return(0,o.jsxs)(i.Z,{sx:{flexShrink:0,ml:2.5},children:[(0,o.jsx)(m.Z,{onClick:function(e){l(e,0)},disabled:0===r,"aria-label":"first page",children:"rtl"===n.direction?(0,o.jsx)(C.Z,{}):(0,o.jsx)(b.Z,{})}),(0,o.jsx)(m.Z,{onClick:function(e){l(e,r-1)},disabled:0===r,"aria-label":"previous page",children:"rtl"===n.direction?(0,o.jsx)(P.Z,{}):(0,o.jsx)(v.Z,{})}),(0,o.jsx)(m.Z,{onClick:function(e){l(e,r+1)},disabled:r>=Math.ceil(t/a)-1,"aria-label":"next page",children:"rtl"===n.direction?(0,o.jsx)(v.Z,{}):(0,o.jsx)(P.Z,{})}),(0,o.jsx)(m.Z,{onClick:function(e){l(e,Math.max(0,Math.ceil(t/a)-1))},disabled:r>=Math.ceil(t/a)-1,"aria-label":"last page",children:"rtl"===n.direction?(0,o.jsx)(b.Z,{}):(0,o.jsx)(C.Z,{})})]})}var k=t(890),y=t(15),S=t(5984),M={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function O(e){var n=e.data,t=e.open,r=e.setOpen,a=[];if(n)for(var l=Object.keys(n),s=Object.values(n),c=0;c<=l.length-1;c+=1)a.push("".concat(l[c]," - ").concat(s[c]));return(0,o.jsx)("div",{children:n&&(0,o.jsx)(y.Z,{open:t,onClose:function(){return r(!1)},"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,o.jsxs)(i.Z,{sx:M,children:[(0,o.jsx)(k.Z,{id:"modal-modal-title",variant:"h6",component:"h2",children:n.name}),a.map((function(e){return(0,o.jsx)(k.Z,{id:"modal-modal-description",sx:{mt:2},children:e},(0,S.x0)())}))]})})})}var I=function(e){var n=e.data,t=e.open,r=e.setOpen,a=e.handlerModal,i=e.rowsPerPage,l=e.setRowsPerPage,s=e.page,c=e.setPage,Z=e.currentItem,m=s>0?Math.max(0,(1+s)*i-n.length):0;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(p.Z,{component:j.Z,children:n&&(0,o.jsxs)(d.Z,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[(0,o.jsxs)(u.Z,{children:[(i>0?n.slice(s*i,s*i+i):n).map((function(e){return(0,o.jsxs)(f.Z,{sx:{bgcolor:"".concat(e.color)},onClick:a,children:[(0,o.jsx)(h.Z,{component:"th",scope:"row",children:e.id}),(0,o.jsx)(h.Z,{style:{width:160},align:"right",children:e.name}),(0,o.jsx)(h.Z,{style:{width:160},align:"right",children:e.year})]},e.id)})),m>0&&(0,o.jsx)(f.Z,{style:{height:53*m},children:(0,o.jsx)(h.Z,{colSpan:6})})]}),(0,o.jsx)(x.Z,{children:(0,o.jsx)(f.Z,{children:(0,o.jsx)(g.Z,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:n.length,rowsPerPage:i,page:s,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:function(e,n){c(n)},onRowsPerPageChange:function(e){l(parseInt(e.target.value,10)),c(0)},ActionsComponent:w})})})]})}),(0,o.jsx)(O,{data:Z,open:t,setOpen:r})]})},F=t(1614),T=function(e){var n=e.children;return(0,o.jsx)(F.Z,{maxWidth:"sm",children:n})},A=t(818),E=t(5048),Q=t(427);function R(e){var n=e.error,t=e.resetErrorBoundary;return(0,o.jsxs)("div",{role:"alert",children:[(0,o.jsx)("p",{children:"Something went wrong:"}),(0,o.jsx)("pre",{children:n.message}),(0,o.jsx)("button",{onClick:t,children:"Try again"})]})}var B=t(7470),D=t(1087);function N(){var e,n,t,i=A.L.useGetAllDataQuery(),l=i.data,d=i.isSuccess,u=(0,c.useState)([]),h=(0,a.Z)(u,2),p=h[0],x=h[1],g=(0,c.useState)(!1),f=(0,a.Z)(g,2),j=f[0],Z=f[1],m=(0,c.useState)(null),b=(0,a.Z)(m,2),v=b[0],P=b[1],C=(0,D.lr)(),w=(0,a.Z)(C,2),k=w[0],y=w[1],S=(0,c.useState)(null!==(e=parseInt(k.get("per_page")))&&void 0!==e?e:5),M=(0,a.Z)(S,2),O=M[0],F=M[1],N=(0,E.I0)(),W=(0,E.v9)((function(e){return e.filter.value})),_=(0,c.useState)(null!==(n=parseInt(k.get("page"))-1)&&void 0!==n?n:0),G=(0,a.Z)(_,2),L=G[0],V=G[1],q=function(e,n,t){var a=""!==e?{per_page:e}:{},i=""!==n?{page:n}:{},l=""!==t?{filter:t}:{},o=(0,r.Z)((0,r.Z)((0,r.Z)({},a),i),l);y(o)},z=null!==(t=k.get("filter"))&&void 0!==t?t:Number(W);return(0,c.useEffect)((function(){l&&x(""===W?l.data:l.data.filter((function(e){return e.id===z})))}),[W,l,z]),(0,o.jsxs)(T,{children:[(0,o.jsx)(s,{changeFilter:function(e){N((0,Q.Q)(e.currentTarget.value))}}),(0,o.jsx)(B.ErrorBoundary,{FallbackComponent:R,children:d&&(0,o.jsx)(I,{data:p,currentItem:v,open:j,setOpen:Z,setRowsPerPage:F,rowsPerPage:O,page:L,setPage:V,filterData:W,handlerModal:function(e){var n,t=null===(n=e.currentTarget.firstChild)||void 0===n?void 0:n.textContent;p&&P(p.find((function(e){return e.id===Number(t)}))),Z(!j)},updateQueryString:q})}),(0,o.jsx)("button",{type:"button",onClick:function(){return q(O,L+1,W)},children:"Click"})]})}}}]);
//# sourceMappingURL=201.2d51cf40.chunk.js.map